/*******************************  COPYRIGHT  ********************************/
/*
 *  Author? "Gregory N. Leonhardt"
 *  License? "CC BY-NC 2.0"
 *           "https://creativecommons.org/licenses/by-nc/2.0/"
 *
 ****************************************************************************/

#ifndef ID3_LIB_H
#define ID3_LIB_H

/******************************** JAVADOC ***********************************/
/**
 *  This file contains private definitions (etc.) that apply to internal 
 *  library components of the 'id3' library.
 *
 *  @note
 *
 ****************************************************************************/

/****************************************************************************
 *  Compiler directives
 ****************************************************************************/

//----------------------------------------------------------------------------
#ifdef ALLOC_ID3
   #define ID3_EXT
#else
   #define ID3_EXT              extern
#endif
//----------------------------------------------------------------------------

/****************************************************************************
 * System APIs
 ****************************************************************************/

                                //*******************************************
                                //*******************************************

/****************************************************************************
 * Application APIs
 ****************************************************************************/

                                //*******************************************
                                //*******************************************

/****************************************************************************
 * Library Private Enumerations
 ****************************************************************************/

//----------------------------------------------------------------------------
enum    id3_decode_state_e
{
    ID3DS_IDLE                  =   0x00,   //  No ID3 header found
    ID3DS_PLUS                  =   0x01,   //  ID3v1 PLUS header found
    ID3DS_V1                    =   0x02,   //  ID3v1      header found
    ID3DS_V21                   =   0x03,   //  ID3v2.1    header found
    ID3DS_V22                   =   0x04,   //  ID3v2.2    header found
    ID3DS_V23                   =   0x05,   //  ID3v2.3    header found
    ID3DS_V24                   =   0x06    //  ID3v2.4    header found
};
//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Definitions
 ****************************************************************************/

//----------------------------------------------------------------------------
//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Structures
 ****************************************************************************/

//----------------------------------------------------------------------------
//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Storage Allocation
 ****************************************************************************/

//----------------------------------------------------------------------------
/**
 *  @param  id3v1p_p            ID3v1 PLUS header                           */
ID3_EXT
struct  id3v1p_t                id3v1p_p;
/**
 *  @param  id3v1_p             ID3v1 header                                */
ID3_EXT
struct  id3v1_t                 id3v1_p; 
/**
 *  @param  id3v2_p             ID3v2 header                                */
ID3_EXT
struct  id3v2_t                 id3v2_p;
/**
 *  @param  id3_decode_state    ID3 decode_state                            */
ID3_EXT
enum    id3_decode_state_e      id3_decode_state;
/**
 *  @param  id3_list            Pointer to a list of ID3 tags               */
ID3_EXT
struct  list_base_t         *   id3_list_p;
//----------------------------------------------------------------------------

/****************************************************************************
 * Library Private Prototypes
 ****************************************************************************/

//----------------------------------------------------------------------------
uint8_t *
ID3__v2_tag_data(
    uint8_t                     *   source_data_p,
    int                             source_data_l
    );
//----------------------------------------------------------------------------
int
ID3__id3v1(
    char                        *   frame_data_p,
    int                             frame_data_l
    );
//----------------------------------------------------------------------------
int
ID3__id3v1p(
    char                        *   frame_data_p,
    int                             frame_data_l
    );
//----------------------------------------------------------------------------
int
ID3__id3v2(
    char                        *   frame_data_p,
    int                             frame_data_l
    );
//----------------------------------------------------------------------------
int
ID3__v23_frame(
    uint8_t                 *   frame_buffer_p
    );
/****************************************************************************/

#endif                      //    ID3_LIB_H
